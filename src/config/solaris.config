#!/bin/sh
#BHEADER***********************************************************************
# (c) 1995   The Regents of the University of California
#
# See the file COPYRIGHT_and_DISCLAIMER for a complete copyright
# notice, contact person, and disclaimer.
#
# $Revision: 1.1.1.1 $
#EHEADER***********************************************************************

#=============================================================================
#
# Configuration file for Sun Solaris systems
#
#=============================================================================


if [ "SUNW,Ultra-WildFire" = "`uname -i`" ]
then
PFTOOLS_INCLUDE="-I/g/g17/maxwell/solaris/include"
PFTOOLS_LIBS="-L/usr/openwin/lib -L/g/g17/maxwell/solaris/lib -lX11 -lm -lnsl -lsocket -ldl"
else
PFTOOLS_INCLUDE="-I/home/casc/include"
PFTOOLS_LIBS="-L/usr/openwin/lib -L/home/casc/lib -lX11 -lm -lnsl -lsocket -ldl"
fi

PFTOOLS_DEF="-I/usr/openwin/include -DAMPS_SPLIT_FFILE"
PFTOOLS_SHLIB_CFLAGS="-KPIC"
PFTOOLS_SHLIB_LD="ld -G -z text"

#=============================================================================
#
# AVS
#
#=============================================================================
if [ "SUNW,Ultra-WildFire" != "`uname -i`" ]
then
    PFAVS_PATH=$AVS_PATH
fi

#=============================================================================
#
# Express
#
#=============================================================================
if [ "SUNW,Ultra-WildFire" != "`uname -i`" ]
then
    PFEXPRESS_VXP="express -compile -project . -exit -none"
fi


#=============================================================================
#
# ParFlow
#
#=============================================================================

#
# Do old style including of debugging statements for better gdb support
#
PF_NODE_DEBUG="-g -DAMPS_STDOUT_NOBUFF"
PF_NODE_F77_DEBUG="-xs -g"

if [ "SUNW,Ultra-WildFire" = "`uname -i`" ]
then
    PF_NODE_CC="cc"
    PF_NODE_LINK="cc"

    PF_NODE_DEF="-DAMPS_UNISTD -DAMPS_MPICH -DAMPS_SPLIT_FFILE -DAMPS_MPI_SETHOME -I/opt/SUNWhpc/include -DAMPS_PRINT_HOSTNAME -I/g/g17/maxwell/solaris/include"
    PF_NODE_LIBS="-L/opt/SUNWhpc/lib -R/opt/SUNWhpc/lib -lnsl -lsocket -lmpi -lm -lF77 -lsunmath"

else
    #
    # Determine if we are running on MPICH or LAM
    #
    if [ "`mpirun 2> /dev/null`" = "Missing: program name" ] 
    then
	#
	# MPICH
	#
	# MPICH mpicc is broke 
	#
	# PF_NODE_CC="mpicc"
	#PF_NODE_F77="mpif77"
    
	PF_NODE_CC="gcc"
	PF_NODE_LINK="cc"
	
 	PF_NODE_DEF="-DPARFLOW_USE_HYPRE -DAMPS_UNISTD -Wall -DAMPS_MPICH -DAMPS_SPLIT_FFILE -DAMPS_MPI_SETHOME -I/usr/local/mpi/mpich/include -I/usr/local/mpi/mpich/lib -DAMPS_PRINT_HOSTNAME -DCEGDB -I/home/casc/include -I/home/casc/software/hypre/internal/include"
	PF_NODE_LIBS="-L/opt/SUNWspro/lib -L/usr/local/mpi/mpich/lib -L/home/casc/software/hypre/internal/lib -lHYPRE_ls -lHYPRE_mv -lHYPRE_utilities -lnsl -lsocket -lmpich -lpthread -lm -lF77 -lsunmath -L/home/casc/lib -lcegdb"
	
    else
	#
	# LAM
	#
	PF_NODE_CC="hcc"
	PF_NODE_LINK="hcc"
	PF_NODE_F77="hf77"
	
	    PF_NODE_DEF="-DAMPS_LAM -DAMPS_SPLIT_FFILE -DAMPS_PRINT_HOSTNAME -DCEGDB -I/home/casc/include"
	PF_NODE_LIBS="-lmpi -L/opt/SUNWspro/lib -lF77 -lm -lsunmath -L/home/casc/lib -lcegdb"
    fi
    
    #
	# If Malloc debug then link to the malloc debug library
    #
#     if [ -n "$DMALLOC_OPTIONS" ] 
#     then
# 	PF_NODE_DEF="$PF_NODE_DEF -DAMPS_MALLOC_DEBUG -I/home/casc/include"
# 	PF_NODE_LIBS="$PF_NODE_LIBS -DAMPS_MALLOC_DEBUG -L/home/casc/lib -ldmalloc"
#     fi
fi







